# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–∞—Ä—Å–µ—Ä–∞ SteamDB

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞:** –°–±–æ—Ä –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö CCU –∏ Price History –¥–ª—è ~104,000 –∏–≥—Ä —Å SteamDB

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: —Å–∫–æ—Ä–æ—Å—Ç—å (–Ω–æ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π checkpoint –º–µ—Ö–∞–Ω–∏–∑–º —Å —Ç–æ—á–Ω—ã–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–æ–≤
- –ü—Ä–æ–≥—Ä–µ—Å—Å –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–∞–ø—á —á–µ—Ä–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ (–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ CSS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

**–û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):**
- **–°–∫–æ—Ä–æ—Å—Ç—å:** 225,000 - 450,000 APP IDs/—á–∞—Å (CCU –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Compare)
- **–í—Ä–µ–º—è –Ω–∞ 100,000 APP IDs:** 0.2 - 0.4 —á–∞—Å–∞ = **12-24 –º–∏–Ω—É—Ç—ã**
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 5,625 - 11,250x –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –±–∞–∑–æ–≤—ã–º –ø–ª–∞–Ω–æ–º (30-50 APP IDs/—á–∞—Å)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
steam-parser/
‚îú‚îÄ‚îÄ parser.py                 # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∑–∞–¥–µ—Ä–∂–∫–∏, –ø—É—Ç–∏, –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º)
‚îú‚îÄ‚îÄ database.py               # –†–∞–±–æ—Ç–∞ —Å SQLite –ë–î
‚îú‚îÄ‚îÄ browser_manager.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ —Å–µ—Å—Å–∏—è–º–∏ (–ø—É–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ batch_manager.py          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞—Ç—á–∞–º–∏ APP IDs –¥–ª—è Compare
‚îú‚îÄ‚îÄ ccu_parser.py            # –ü–∞—Ä—Å–∏–Ω–≥ CCU –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Compare
‚îú‚îÄ‚îÄ price_parser.py          # –ü–∞—Ä—Å–∏–Ω–≥ Price History
‚îú‚îÄ‚îÄ checkpoint.py            # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ checkpoint –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
‚îú‚îÄ‚îÄ progress.py              # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ app_ids.txt              # –°–ø–∏—Å–æ–∫ APP IDs (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É)
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ steam_data.db        # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ checkpoint.json      # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ   ‚îî‚îÄ‚îÄ cookies.json         # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ cookies –¥–ª—è –æ–±—Ö–æ–¥–∞ Cloudflare
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îî‚îÄ‚îÄ parser.log           # –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `ccu_history`
```sql
CREATE TABLE ccu_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    app_id INTEGER NOT NULL,
    datetime TEXT NOT NULL,  -- YYYY-MM-DD HH:MM:SS
    players INTEGER NOT NULL,
    UNIQUE(app_id, datetime)
);
CREATE INDEX idx_ccu_app_datetime ON ccu_history(app_id, datetime);
CREATE INDEX idx_ccu_app ON ccu_history(app_id);
```

### –¢–∞–±–ª–∏—Ü–∞ `price_history`
```sql
CREATE TABLE price_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    app_id INTEGER NOT NULL,
    datetime TEXT NOT NULL,  -- YYYY-MM-DD HH:MM:SS
    price_final REAL NOT NULL,
    currency_symbol TEXT NOT NULL,
    currency_name TEXT NOT NULL,
    UNIQUE(app_id, datetime, currency_symbol)
);
CREATE INDEX idx_price_app_datetime ON price_history(app_id, datetime);
CREATE INDEX idx_price_app ON price_history(app_id);
```

### –¢–∞–±–ª–∏—Ü–∞ `app_status` (–¥–ª—è checkpoint –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è)
```sql
CREATE TABLE app_status (
    app_id INTEGER PRIMARY KEY,
    status TEXT NOT NULL,  -- 'pending', 'ccu_done', 'price_done', 'completed', 'ccu_error', 'price_error', 'both_error'
    ccu_processed INTEGER DEFAULT 0,  -- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π CCU
    price_processed INTEGER DEFAULT 0,  -- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π Price
    ccu_error TEXT,  -- —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ CCU
    price_error TEXT,  -- —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ Price
    last_updated TEXT NOT NULL,  -- timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    ccu_url TEXT,  -- URL –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    price_url TEXT  -- URL –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
);
CREATE INDEX idx_status ON app_status(status);
```

### –¢–∞–±–ª–∏—Ü–∞ `errors` (–¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫)
```sql
CREATE TABLE errors (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    app_id INTEGER NOT NULL,
    error_type TEXT NOT NULL,  -- 'ccu' –∏–ª–∏ 'price'
    error_message TEXT,
    error_traceback TEXT,
    timestamp TEXT NOT NULL,
    url TEXT,
    retry_count INTEGER DEFAULT 0
);
CREATE INDEX idx_errors_app ON errors(app_id);
```

---

## üì¶ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ –º–æ–¥—É–ª—è–º

### –ú–æ–¥—É–ª—å 1: `config.py` ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º (app_ids.txt, –ë–î, –ª–æ–≥–∏)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞:
  - `DELAY_BETWEEN_REQUESTS` = 1 —Å–µ–∫—É–Ω–¥–∞ (–±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
  - `REQUEST_TIMEOUT` = 30 —Å–µ–∫—É–Ω–¥
  - `MAX_RETRIES` = 3
  - `STATS_UPDATE_INTERVAL` = 100 (–¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞:**
  - `PARALLEL_THREADS` = 10 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤)
  - `COMPARE_BATCH_SIZE` = 10-20 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ APP IDs –≤ –æ–¥–Ω–æ–º Compare –∑–∞–ø—Ä–æ—Å–µ)
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
  - `HEADLESS` = True
  - `DISABLE_IMAGES` = True
  - `DISABLE_CSS` = True
  - `DISABLE_FONTS` = True
  - `DISABLE_SCRIPTS` = False (–Ω—É–∂–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã API)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
# –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ –∏ –±–∞—Ç—á–∏–Ω–≥–∞
```

---

### –ú–æ–¥—É–ª—å 2: `database.py` ‚Äî –†–∞–±–æ—Ç–∞ —Å –ë–î

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `init_database()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω–¥–µ–∫—Å–æ–≤
- `save_ccu_data(app_id, data_list)` ‚Äî batch insert CCU –¥–∞–Ω–Ω—ã—Ö
- `save_price_data(app_id, data_list)` ‚Äî batch insert Price –¥–∞–Ω–Ω—ã—Ö
- `update_app_status(app_id, status, **kwargs)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ APP ID
- `get_app_status(app_id)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- `get_statistics()` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ, –æ—à–∏–±–æ–∫, –æ—Å—Ç–∞–ª–æ—Å—å)
- `log_error(app_id, error_type, error_message, url, traceback)` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Batch inserts –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ (–ø–æ 1000 –∑–∞–ø–∏—Å–µ–π)
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ UNIQUE constraints

---

### –ú–æ–¥—É–ª—å 3: `browser_manager.py` ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `BrowserManager` –∫–ª–∞—Å—Å:
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Playwright —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∞ –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ (–¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞)
  - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, CSS, —à—Ä–∏—Ñ—Ç–æ–≤
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ cookies –¥–ª—è –æ–±—Ö–æ–¥–∞ Cloudflare
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–ª–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π)
  - –ú–µ—Ç–æ–¥—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π Cloudflare challenge
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –ø—É–ª–∞
  - –í–æ–∑–≤—Ä–∞—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –ø—É–ª –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –∏ –±—Ä–∞—É–∑–µ—Ä–∞

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- **–ü—É–ª –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤** –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ö–∞–∂–¥—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ—é —Å–µ—Å—Å–∏—é (cookies)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cookies –≤ —Ñ–∞–π–ª `data/cookies.json` –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–∞–ø—á–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ cookies –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ (–µ—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: `route()` –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π Cloudflare challenge
- Thread-safe —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–ª–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```python
# –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ —á–µ—Ä–µ–∑ route()
await page.route("**/*.{png,jpg,jpeg,gif,svg,css,woff,woff2}", lambda route: route.abort())
```

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `get_context()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø—É–ª–∞
- `return_context(context)` ‚Äî –≤–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ –ø—É–ª
- `create_context_pool(size)` ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø—É–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

---

### –ú–æ–¥—É–ª—å 4: `checkpoint.py` ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ checkpoint

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `CheckpointManager` –∫–ª–∞—Å—Å:
  - `load_checkpoint()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑ –ë–î
  - `save_checkpoint()` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤ JSON –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
  - `get_pending_app_ids()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö APP IDs
  - `mark_app_started(app_id)` ‚Äî –æ—Ç–º–µ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - `mark_app_completed(app_id, ccu_count, price_count)` ‚Äî –æ—Ç–º–µ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
  - `mark_app_error(app_id, error_type, error_message)` ‚Äî –æ—Ç–º–µ—Ç–∫–∞ –æ—à–∏–±–∫–∏
  - `get_progress()` ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å (–æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ/–≤—Å–µ–≥–æ/–æ—à–∏–±–æ–∫)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î (`app_status`)
- JSON —Ñ–∞–π–ª –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —á—Ç–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

**–°—Ç–∞—Ç—É—Å—ã APP ID:**
- `pending` ‚Äî –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
- `ccu_processing` ‚Äî CCU –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- `ccu_done` ‚Äî CCU –∑–∞–≤–µ—Ä—à–µ–Ω
- `price_processing` ‚Äî Price –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- `price_done` ‚Äî Price –∑–∞–≤–µ—Ä—à–µ–Ω
- `completed` ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞–±–æ—Ç–∞–Ω
- `ccu_error` ‚Äî –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ CCU
- `price_error` ‚Äî –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ Price
- `both_error` ‚Äî –æ—à–∏–±–∫–∏ –≤ –æ–±–æ–∏—Ö —Ç–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö

---

### –ú–æ–¥—É–ª—å 4: `batch_manager.py` ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞—Ç—á–∞–º–∏ (–ù–û–í–´–ô)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `BatchManager` –∫–ª–∞—Å—Å:
  - `create_batches(app_ids, batch_size)` ‚Äî —Ä–∞–∑–±–∏—Ç—å —Å–ø–∏—Å–æ–∫ APP IDs –Ω–∞ –±–∞—Ç—á–∏
  - `get_next_batch()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –±–∞—Ç—á –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - `mark_batch_processed(batch)` ‚Äî –æ—Ç–º–µ—Ç–∏—Ç—å –±–∞—Ç—á –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π
  - `get_pending_batches()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –±–∞—Ç—á–µ–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –†–∞–∑–±–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ APP IDs –Ω–∞ –±–∞—Ç—á–∏ –ø–æ 10-20 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –æ—á–µ—Ä–µ–¥—å—é –±–∞—Ç—á–µ–π –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞—Ç—á–µ–π

---

### –ú–æ–¥—É–ª—å 5: `ccu_parser.py` ‚Äî –ü–∞—Ä—Å–∏–Ω–≥ CCU –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Compare

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `CCUParser` –∫–ª–∞—Å—Å:
  - `parse_ccu_batch(browser_context, app_ids_batch)` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –±–∞—Ç—á–∞ APP IDs —á–µ—Ä–µ–∑ Compare
  - `_fetch_via_compare(browser_context, app_ids)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Compare URL
  - `_extract_api_data(page, app_ids)` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API –æ—Ç–≤–µ—Ç–æ–≤
  - `_parse_api_response(response_data, app_id)` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ API –¥–ª—è –æ–¥–Ω–æ–≥–æ APP ID
  - `_normalize_datetime(timestamp)` ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã
  - `_parse_single_app(browser_context, app_id)` ‚Äî —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

**–ê–ª–≥–æ—Ä–∏—Ç–º (Compare –ø–æ–¥—Ö–æ–¥):**
1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL: `/charts/?compare={id1},{id2},{id3},...`
2. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Compare —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
3. –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ (–ø—Ä–æ–≤–µ—Ä–∫–∞ Cloudflare)
4. –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤ (`/api/GetGraphMax/?appid={ID}`)
5. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ APP ID –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ API
6. –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–æ–≤: `[{timestamp, players}, ...]` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ APP ID
7. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è datetime –≤ —Ñ–æ—Ä–º–∞—Ç `YYYY-MM-DD HH:MM:SS`
8. –í–æ–∑–≤—Ä–∞—Ç —Å–ª–æ–≤–∞—Ä—è: `{app_id: [data_points], ...}`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Compare –ø–æ–¥—Ö–æ–¥–∞:**
- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö APP IDs (10-20)
- API –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ APP IDs –≤ –±–∞—Ç—á–µ
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- Retry –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω APP ID –≤ –±–∞—Ç—á–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `errors` —Ç–∞–±–ª–∏—Ü—É
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ `app_status` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ APP ID –æ—Ç–¥–µ–ª—å–Ω–æ

---

### –ú–æ–¥—É–ª—å 6: `price_parser.py` ‚Äî –ü–∞—Ä—Å–∏–Ω–≥ Price History

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `PriceParser` –∫–ª–∞—Å—Å:
  - `parse_price_data(browser_manager, app_id)` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥
  - `_extract_currencies_list(page)` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç
  - `_parse_currency_history(page, currency_info)` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –≤–∞–ª—é—Ç—ã
  - `_extract_lowest_price_data(currency_data)` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ lowest recorded price
  - `_normalize_price_data(data, currency_symbol, currency_name)` ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/app/{APP_ID}/`
2. –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. –ü–æ–∏—Å–∫ —Ç–∞–±–ª–∏—Ü—ã "Price History" –∏–ª–∏ —Å–µ–∫—Ü–∏–∏ —Å –≤–∞–ª—é—Ç–∞–º–∏
4. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç (—Å–∏–º–≤–æ–ª, –Ω–∞–∑–≤–∞–Ω–∏–µ)
5. –î–ª—è –∫–∞–∂–¥–æ–π –≤–∞–ª—é—Ç—ã:
   - –ö–ª–∏–∫ –ø–æ –≤–∞–ª—é—Ç–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –∏—Å—Ç–æ—Ä–∏–∏)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö "Lowest Recorded Price" —Å –∏—Å—Ç–æ—Ä–∏–µ–π
   - –ü–∞—Ä—Å–∏–Ω–≥ –≥—Ä–∞—Ñ–∏–∫–∞ –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –∏—Å—Ç–æ—Ä–∏–∏
6. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: `[{datetime, price_final}, ...]`
7. –í–æ–∑–≤—Ä–∞—Ç —Å–ø–∏—Å–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å –≤–∞–ª—é—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞–ª—é—Ç
- –ü–∞—Ä—Å–∏–Ω–≥ –≥—Ä–∞—Ñ–∏–∫–∞ –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—ã (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–∞–∂–¥–æ–π –≤–∞–ª—é—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ

---

### –ú–æ–¥—É–ª—å 7: `progress.py` ‚Äî –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `ProgressTracker` –∫–ª–∞—Å—Å:
  - `update_progress(app_id, status)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
  - `display_statistics()` ‚Äî –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å
  - `get_current_stats()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥:
    - –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: X / Y (Z%)
    - CCU –∑–∞–ø–∏—Å–µ–π: N
    - Price –∑–∞–ø–∏—Å–µ–π: M
    - –û—à–∏–±–æ–∫: K
    - –°–∫–æ—Ä–æ—Å—Ç—å: ~X APP IDs/—á–∞—Å
    - –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏: ~Y —á–∞—Å–æ–≤

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥—ã–µ N –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö APP IDs
- –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ö—Ä–∞—Å–∏–≤—ã–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–∏—Ö–æ–≥–æ —Ä–µ–∂–∏–º–∞ (—Ç–æ–ª—å–∫–æ –≤ –ª–æ–≥)

---

### –ú–æ–¥—É–ª—å 8: `parser.py` ‚Äî –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ APP IDs –∏–∑ —Ñ–∞–π–ª–∞
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –∏ checkpoint
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∞ –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–µ–π —á–µ—Ä–µ–∑ ThreadPoolExecutor –∏–ª–∏ asyncio

**–ê–ª–≥–æ—Ä–∏—Ç–º –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π):**
```python
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
browser_manager = BrowserManager(threads=PARALLEL_THREADS)
batch_manager = BatchManager(app_ids, batch_size=COMPARE_BATCH_SIZE)
ccu_parser = CCUParser()

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
browser_manager.create_context_pool(PARALLEL_THREADS)

# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–µ–π
with ThreadPoolExecutor(max_workers=PARALLEL_THREADS) as executor:
    futures = []
    
    while batch_manager.has_pending_batches():
        batch = batch_manager.get_next_batch()
        context = browser_manager.get_context()
        
        # –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
        future = executor.submit(process_batch, context, batch)
        futures.append(future)
        
        # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
        if len(futures) >= PARALLEL_THREADS:
            # –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏
            completed_future = wait(futures, return_when=FIRST_COMPLETED)
            process_completed_future(completed_future)
            futures.remove(completed_future)

def process_batch(context, app_ids_batch):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –±–∞—Ç—á–∞ APP IDs"""
    try:
        # –ü–∞—Ä—Å–∏–Ω–≥ CCU —á–µ—Ä–µ–∑ Compare
        ccu_results = ccu_parser.parse_ccu_batch(context, app_ids_batch)
        
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
        for app_id, ccu_data in ccu_results.items():
            database.save_ccu_data(app_id, ccu_data)
            checkpoint.mark_ccu_done(app_id, len(ccu_data))
        
        # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
        time.sleep(DELAY_BETWEEN_REQUESTS)
        
        # –ü–∞—Ä—Å–∏–Ω–≥ Price (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ APP ID –æ—Ç–¥–µ–ª—å–Ω–æ)
        for app_id in app_ids_batch:
            try:
                price_data = price_parser.parse_price_data(context, app_id)
                database.save_price_data(app_id, price_data)
                checkpoint.mark_price_done(app_id, len(price_data))
                checkpoint.mark_app_completed(app_id, len(ccu_results.get(app_id, [])), len(price_data))
            except Exception as e:
                checkpoint.mark_app_error(app_id, 'price', str(e))
        
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        progress.update_batch_progress(app_ids_batch)
        
    except Exception as e:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –≤—Å–µ–≥–æ –±–∞—Ç—á–∞
        for app_id in app_ids_batch:
            checkpoint.mark_app_error(app_id, 'ccu', str(e))
            database.log_error(app_id, 'ccu', str(e), url, traceback)
    finally:
        # –í–æ–∑–≤—Ä–∞—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –ø—É–ª
        browser_manager.return_context(context)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ ThreadPoolExecutor –∏–ª–∏ asyncio
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–ª–æ–º –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ KeyboardInterrupt –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ checkpoint –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ APP ID (—á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

---

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ö–æ–¥–∞ Cloudflare

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:**
   - –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞ —Å Playwright
   - –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ Cloudflare challenge –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cookies –≤ `data/cookies.json`
   - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

2. **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏:**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö cookies
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å cookies
   - –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö challenge

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - –û–¥–∏–Ω –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞ –≤–µ—Å—å –ø–∞—Ä—Å–∏–Ω–≥
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cookies –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–∫–∞–∂–¥—ã–µ 100 –∑–∞–ø—Ä–æ—Å–æ–≤)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ cookies —É—Å—Ç–∞—Ä–µ–ª–∏

---

## üìä –ú–µ—Ö–∞–Ω–∏–∑–º checkpoint –∏ —Å—Ç–∞—Ç—É—Å–æ–≤

**–õ–æ–≥–∏–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:**
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è APP IDs —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending` –∏–ª–∏ `*_error`
- –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–∏–ø—É –æ—à–∏–±–∫–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º

**–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ `app_ids.txt`:**
```
730
440
570
...
```
–û–¥–∏–Ω APP ID –Ω–∞ —Å—Ç—Ä–æ–∫—É, –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`requirements.txt`)

```
playwright==1.40.0
beautifulsoup4==4.12.2
lxml==4.9.3
requests==2.31.0
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Playwright —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤:
```bash
playwright install chromium
```

---

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Compare –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è CCU –¥–∞–Ω–Ω—ã—Ö
- **–§–æ—Ä–º–∞—Ç URL:** `https://steamdb.info/charts/?compare={id1},{id2},...`
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
  - –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è 10-20 APP IDs
  - API –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  - –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –±–∞—Ç—á–∞ (~0.3 —Å–µ–∫)
  - –£—Å–∫–æ—Ä–µ–Ω–∏–µ: 15-31x –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–¥–∏–Ω–æ—á–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

### 2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ –ø—É–ª –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤:** 5-10 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
  - –õ–∏–Ω–µ–π–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –ø–æ—Ç–æ–∫–æ–≤
  - –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### 3. –ö–æ–º–±–∏–Ω–∞—Ü–∏—è Compare + –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
- **–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:** 225,000 - 450,000 APP IDs/—á–∞—Å
- **–í—Ä–µ–º—è –Ω–∞ 100,000:** 0.2 - 0.4 —á–∞—Å–∞ = **12-24 –º–∏–Ω—É—Ç—ã**
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 5,625 - 11,250x –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –±–∞–∑–æ–≤—ã–º –ø–ª–∞–Ω–æ–º

### 4. –ù–æ–≤—ã–µ –º–æ–¥—É–ª–∏
- **`batch_manager.py`** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞—Ç—á–∞–º–∏ APP IDs
- –û–±–Ω–æ–≤–ª–µ–Ω **`browser_manager.py`** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—É–ª–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω **`ccu_parser.py`** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Compare
- –û–±–Ω–æ–≤–ª–µ–Ω **`parser.py`** ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

---

## üöÄ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø–æ—à–∞–≥–æ–≤–æ)

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
2. ‚è≥ `config.py` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ –∏ –±–∞—Ç—á–∏–Ω–≥–∞)
3. ‚è≥ `database.py` ‚Äî —Å—Ö–µ–º—ã –ë–î –∏ –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. ‚è≥ `requirements.txt` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (playwright, asyncio/threading)

### –≠—Ç–∞–ø 2: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º —Å –ø—É–ª–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
5. ‚è≥ `browser_manager.py` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—É–ª–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
6. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ö–æ–¥–∞ Cloudflare
7. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

### –≠—Ç–∞–ø 3: Checkpoint —Å–∏—Å—Ç–µ–º–∞
8. ‚è≥ `checkpoint.py` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –±–∞—Ç—á–µ–π)
9. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–î

### –≠—Ç–∞–ø 4: –ë–∞—Ç—á-–º–µ–Ω–µ–¥–∂–µ—Ä
10. ‚è≥ `batch_manager.py` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞—Ç—á–∞–º–∏ APP IDs –¥–ª—è Compare
11. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞ –±–∞—Ç—á–∏

### –≠—Ç–∞–ø 5: –ü–∞—Ä—Å–∏–Ω–≥ CCU —á–µ—Ä–µ–∑ Compare
12. ‚è≥ `ccu_parser.py` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ Compare –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
13. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –±–∞—Ç—á–µ –∏–∑ 10-20 APP IDs
14. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ API –æ—Ç–≤–µ—Ç–æ–≤

### –≠—Ç–∞–ø 6: –ü–∞—Ä—Å–∏–Ω–≥ Price
15. ‚è≥ `price_parser.py` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
16. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö APP IDs

### –≠—Ç–∞–ø 7: –ü—Ä–æ–≥—Ä–µ—Å—Å –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
17. ‚è≥ `progress.py` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –±–∞—Ç—á–µ–π)
18. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≥–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

### –≠—Ç–∞–ø 8: –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º
19. ‚è≥ `parser.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
20. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ThreadPoolExecutor/asyncio
21. ‚è≥ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–ª–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
22. ‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –≠—Ç–∞–ø 9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
23. ‚è≥ –¢–µ—Å—Ç –Ω–∞ –±–∞—Ç—á–µ –∏–∑ 100 APP IDs (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ)
24. ‚è≥ –¢–µ—Å—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (5 –ø–æ—Ç–æ–∫–æ–≤, 10 APP IDs –≤ –±–∞—Ç—á–µ)
25. ‚è≥ –¢–µ—Å—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (10 –ø–æ—Ç–æ–∫–æ–≤, 20 APP IDs –≤ –±–∞—Ç—á–µ)
26. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ checkpoint –º–µ—Ö–∞–Ω–∏–∑–º–∞
27. ‚è≥ –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
28. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
29. ‚è≥ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–∞–ø—á (cookies —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
2. ‚úÖ Checkpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–º–æ–∂–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å –∏ –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å)
3. ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
4. ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ë–î)
5. ‚úÖ –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è
6. ‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å CCU: –º–∏–Ω–∏–º—É–º 100,000 APP IDs/—á–∞—Å** (—á–µ—Ä–µ–∑ Compare + –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º)
7. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü)
8. ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ (–±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)
9. ‚úÖ Compare –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–±–∞—Ç—á–∏ –ø–æ 10-20 APP IDs)
10. ‚úÖ –ü—É–ª –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìù –ó–∞–º–µ—Ç–∫–∏ –∏ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è

### –í–æ–ø—Ä–æ—Å—ã, —Ç—Ä–µ–±—É—é—â–∏–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è:
1. ‚úÖ –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö API `/api/GetGraphMax/` ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –º–∞—Å—Å–∏–≤
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML –≥—Ä–∞—Ñ–∏–∫–∞ Price History ‚Äî –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
3. –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –≤–∞–ª—é—Ç ‚Äî –∫–ª–∏–∫ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ?
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –∏–≥—Ä–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∞
5. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç (–Ω–æ–≤–∞—è –∏–≥—Ä–∞ –±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏)
6. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ APP IDs –≤ –æ–¥–Ω–æ–º Compare –∑–∞–ø—Ä–æ—Å–µ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –¥–æ 20)
7. –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ Compare –¥–ª—è Price History –∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è CCU?

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è:
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ Compare + –ø—É–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ ‚Äî –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Price
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ headless=False —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–∞–ø—á–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤)

---

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–ª–∞–Ω–∞

- **2025-12-02**: –°–æ–∑–¥–∞–Ω –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **2025-12-02**: –û–±–Ω–æ–≤–ª–µ–Ω –ø–ª–∞–Ω —Å —É—á–µ—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω Compare –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±–∞—Ç—á–∏–Ω–≥–∞ CCU –¥–∞–Ω–Ω—ã—Ö
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º —á–µ—Ä–µ–∑ –ø—É–ª –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–æ–¥—É–ª—å `batch_manager.py` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞—Ç—á–∞–º–∏
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `ccu_parser.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Compare
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `browser_manager.py` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—É–ª–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `parser.py` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ (—Å–∫–æ—Ä–æ—Å—Ç—å: 100,000+ APP IDs/—á–∞—Å)
  - ‚úÖ –û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: 225,000 - 450,000 APP IDs/—á–∞—Å
  - ‚úÖ –í—Ä–µ–º—è –Ω–∞ 100,000: 12-24 –º–∏–Ω—É—Ç—ã

