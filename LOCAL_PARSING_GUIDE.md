# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –ø–∞—Ä—Å–∏–Ω–≥—É SteamCharts

## üìä –û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä –∏—Ç–æ–≥–æ–≤–æ–π –ë–î: ~30 GB**

- –í—Å–µ–≥–æ APP IDs: **104,215**
- –°—Ä–µ–¥–Ω–µ–µ —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∏–≥—Ä—É: ~2,000
- –ó–∞–ø–∏—Å–µ–π –Ω–∞ –∏–≥—Ä—É (avg + peak): ~4,000
- –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π CCU: ~416,860,000
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–º–µ—Ç—å –º–∏–Ω–∏–º—É–º 20-30 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞**

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞. –†–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ (–º–Ω–æ–≥–æ –∏–≥—Ä —Å –º–µ–Ω—å—à–µ–π –∏—Å—Ç–æ—Ä–∏–µ–π) –∏–ª–∏ –±–æ–ª—å—à–µ (–ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏–≥—Ä—ã —Å –¥–ª–∏–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π).

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
python3 parser.py
```

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ó–∞–≥—Ä—É–∑–∏—Ç APP IDs –∏–∑ `app_ids.txt`
- –°–æ–∑–¥–∞—Å—Ç/–æ–±–Ω–æ–≤–∏—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `data/steam_data.db`
- –ù–∞—á–Ω–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SteamCharts API
- –ë—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°–æ—Ö—Ä–∞–Ω–∏—Ç checkpoint –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## ‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞

**–°–ø–æ—Å–æ–± 1: Ctrl+C**
- –ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –ø–∞—Ä—Å–µ—Ä
- –ü–∞—Ä—Å–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç checkpoint
- –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: `"Checkpoint saved. You can resume parsing by running the script again."`

**–°–ø–æ—Å–æ–± 2: –°–∏–≥–Ω–∞–ª –æ—Å—Ç–∞–Ω–æ–≤–∫–∏**
```bash
# –ù–∞–π—Ç–∏ PID –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–∞—Ä—Å–µ—Ä–∞
ps aux | grep parser.py

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∏–≥–Ω–∞–ª –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
kill -SIGINT <PID>
```

### –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä —Å–Ω–æ–≤–∞:

```bash
python3 parser.py
```

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ó–∞–≥—Ä—É–∑–∏—Ç checkpoint –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ APP IDs
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∞–µ—Ç APP IDs —Å –æ—à–∏–±–∫–∞–º–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞–∂–¥—ã–µ 100 –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –±–∞—Ç—á–µ–π:

```
======================================================================
üìä –ü–†–û–ì–†–ï–°–° –ü–ê–†–°–ò–ù–ì–ê
======================================================================
–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ:     5000 /  104215 (  4.8%)
–û–∂–∏–¥–∞–µ—Ç:       99000
–û—à–∏–±–æ–∫:          215

CCU –∑–∞–ø–∏—Å–µ–π:  2500000
Price –∑–∞–ø–∏—Å–µ–π:       0

–°–∫–æ—Ä–æ—Å—Ç—å:      45000 APP IDs/—á–∞—Å
–ü—Ä–æ—à–ª–æ –≤—Ä–µ–º–µ–Ω–∏:           1:15:30
–û—Å—Ç–∞–ª–æ—Å—å:                20:45:00
======================================================================
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ Python

```python
from database import Database

db = Database()
stats = db.get_statistics()

print(f'–í—Å–µ–≥–æ APP IDs: {stats["total"]}')
print(f'–ó–∞–≤–µ—Ä—à–µ–Ω–æ: {stats["completed"]}')
print(f'–û–∂–∏–¥–∞–µ—Ç: {stats["pending"]}')
print(f'–û—à–∏–±–æ–∫: {stats["errors"]}')
print(f'CCU –∑–∞–ø–∏—Å–µ–π: {stats["ccu_records"]}')

db.close()
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
python3 check_progress.py
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Steam Parser/
‚îú‚îÄ‚îÄ parser.py              # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–µ—Ä–∞
‚îú‚îÄ‚îÄ app_ids.txt            # –°–ø–∏—Å–æ–∫ APP IDs –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ steam_data.db      # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ checkpoint.json    # –§–∞–π–ª checkpoint (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îî‚îÄ‚îÄ logs/
    ‚îî‚îÄ‚îÄ parser.log         # –õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `config.py`:

```python
# SteamCharts API settings
STEAMCHARTS_REQUESTS_PER_SECOND = 100  # –ó–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
STEAMCHARTS_MAX_CONCURRENT = 80         # –ú–∞–∫—Å–∏–º—É–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
STEAMCHARTS_TIMEOUT = 30                # –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ (—Å–µ–∫—É–Ω–¥—ã)
STEAMCHARTS_RETRY_ATTEMPTS = 3          # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ
```

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
export STEAMCHARTS_REQUESTS_PER_SECOND=50
export STEAMCHARTS_MAX_CONCURRENT=40
python3 parser.py
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV

```bash
python3 export_steamcharts_csv.py
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Python:

```python
from database import Database
from export_steamcharts_csv import export_to_csv
from pathlib import Path

db = Database()
output_file = Path("data/export.csv")
export_to_csv(db, output_file)
db.close()
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
ls -lh data/steam_data.db
```

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ö–∞–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥?

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –ü–∞—Ä—Å–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç checkpoint.

### –ö–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏?

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `python3 parser.py` —Å–Ω–æ–≤–∞. –ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

### –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–π–º–µ—Ç –ø–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥?

–ü—Ä–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ ~45,000 APP IDs/—á–∞—Å –¥–ª—è 104,215 APP IDs –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ **2-3 —á–∞—Å–∞**.

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–µ—Ä–≤–∞–ª—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏?

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç APP IDs —Å –æ—à–∏–±–∫–∞–º–∏ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/parser.log` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

### –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –≤ —Ñ–æ–Ω–µ?

–î–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `nohup` –∏–ª–∏ `screen`:

```bash
# –° nohup
nohup python3 parser.py > parser_output.log 2>&1 &

# –ò–ª–∏ —Å screen
screen -S parser
python3 parser.py
# –ù–∞–∂–º–∏—Ç–µ Ctrl+A –∑–∞—Ç–µ–º D –¥–ª—è –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
# –í–µ—Ä–Ω—É—Ç—å—Å—è: screen -r parser
```

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü–∞—Ä—Å–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `app_ids.txt` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç APP IDs
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/parser.log`

### –ü–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ

1. –£–≤–µ–ª–∏—á—å—Ç–µ `STEAMCHARTS_MAX_CONCURRENT` –≤ `config.py`
2. –£–≤–µ–ª–∏—á—å—Ç–µ `STEAMCHARTS_REQUESTS_PER_SECOND` (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ, —á—Ç–æ–±—ã –Ω–µ –ø–æ–ª—É—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –û—à–∏–±–∫–∏ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/parser.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `errors` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ APP IDs –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (—É–¥–∞–ª–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–∞—Ä—Å–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SteamCharts API, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Ä–∞–∑–Ω–æ–π –≥—Ä–∞–Ω—É–ª—è—Ä–Ω–æ—Å—Ç—å—é (–ø–æ—á–∞—Å–æ–≤—ã–µ, –¥–Ω–µ–≤–Ω—ã–µ, –º–µ—Å—è—á–Ω—ã–µ)
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ `avg` –∏ `peak` (—Ö–æ—Ç—è –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏)
- Checkpoint —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 100 –±–∞—Ç—á–µ–π –∏ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è


